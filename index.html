<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Psychic Game</title>
</head>
<body>
  <h1>Psychic Game</h1>
  <h2>Guess the letter the computer is thinking!</h2>
  <p id="correct-guesses">

  </p>
  <p id="wrong-guesses">

  </p>
  <p id="remaining-guesses">

  </p>
  <p id="prev-guesses">

  </p>
  <script>
    var alphabet = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'];

    var compLetter;

    var wins = 0;

    var losses = 0;

    var remainingGuesses = 9;

    var userGuesses = [];

    var winScore = document.getElementById('correct-guesses');

    var loseScore = document.getElementById('wrong-guesses');

    var guessesLeft = document.getElementById('remaining-guesses');

    var prevGuesses = document.getElementById('prev-guesses');

    function letterSelect() {
      compLetter = alphabet[Math.floor(Math.random() * alphabet.length)];
      console.log(compLetter);
      return compLetter;
    }

    function updateStats() {
      winScore.textContent = 'Correct Guesses: ' + wins;
      loseScore.textContent = 'Wrong Guesses: ' + losses;
      prevGuesses.textContent = 'Previous Guesses: ' + userGuesses;
      guessesLeft.textContent = 'Remaining Guesses: ' + remainingGuesses;
    }

    function resetGame() {
      letterSelect();

      remainingGuesses = 9;

      userGuesses = [];

      updateStats();
    }            

    letterSelect();
    updateStats();

    document.onkeyup = function(event) {
      var guess = event.key.toLowerCase();
      console.log(guess)

      if(guess === compLetter){
        wins++;
        updateStats();
        letterSelect();
      } else if (guess != compLetter) {
        losses++;
        remainingGuesses--;
        userGuesses.push(guess + " ");
        updateStats();
      }
      
      if (remainingGuesses < 1) {
        resetGame();
      };
    }


  </script>
</body>
</html>